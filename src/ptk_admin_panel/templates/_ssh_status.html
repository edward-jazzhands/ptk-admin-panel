<div class="ssh-status-card">
  <div class="status-header">
    <div class="status-title">
        <span>SSH Server Details</span>
    </div>
    <span class="status-badge status-{{ 'active' if context.is_active else 'inactive' }}">
      {{ 'Active' if context.is_active else 'Inactive' }}
    </span>
  </div>

  {% if context.is_active %}
  <div class="status-details">
    <div class="metric">
      <span class="metric-label">Port:</span>
      <span class="metric-value">{{ context.port }}</span>
    </div>
    <div class="metric">
      <span class="metric-label">Process ID:</span>
      <span class="metric-value">{{ context.pid }}</span>
    </div>
    <div class="inner-card">
      <div class="status-title">
        Active SSH Connections:
      </div>
      {% if context.active_connections %}
      {% for k, v in context.active_connections.items() %}
        <div class="metric">
          <span class="metric-label">Connection {{ k }}:</span>
          <span class="metric-value">{{ v.raddr }}</span>
        </div>
      {% endfor %}
      {% endif %}
    </div>
  </div>
  {% else %}
  <div class="status-warning">SSH server is not running</div>
  {% endif %}
  {% if context.error_message %}
  <div class="status-error">{{ context.error_message }}</div>
  {% endif %}
</div>

